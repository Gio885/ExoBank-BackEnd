

<!-- <ui:composition xmlns="http://www.w3c.org/1999/xhtml" -->
<!-- 	xmlns:h="http://java.sun.com/jsf/html" -->
<!-- 	xmlns:p="http://primefaces.org/ui" -->
<!-- 	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" -->
<!-- 	xmlns:ui="http://java.sun.com/jsf/facelets" -->
<!-- 	xmlns:c="http://java.sun.com/jsp/jstl/core_1_1"> -->


<!-- 	<p:dataTable value="#{scacchieraBean.griglia}" var="riga" -->
<!-- 		rowStyleClass="customRow" styleClass="customTable" rowIndexVar="rowIndex"> -->
<!-- 		<p:columns value="#{scacchieraBean.griglia}" var="cella" -->
<!-- 			columnIndexVar="colIndex"> -->
<!-- 			<p:outputPanel class="#{(rowIndex + colIndex) % 2 == 0 ? 'chessboard-white-cell' : 'chessboard-black-cell'}"> -->

<!-- 			</p:outputPanel> -->

<!-- 		</p:columns> -->
<!-- 	</p:dataTable> -->

<!-- 	<p:commandButton value="Torna al menu" -->
<!-- 		action="#{scacchieraBean.switchGioca}" update="homeForm" -->
<!-- 		immediate="true" /> -->
<!-- 	<br /> -->
<!-- 	<br /> -->
<!-- 	<br /> -->




<!-- </ui:composition> -->



<ui:composition xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core_1_1"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	>
	


<p:dialog  id="modalDialog"  header="Seleziona il colore delle pedine" closable="false" widgetVar="modalDialog" modal="true" resizable="false">
<div class="container">
	<center>
		<h1 style="font-family:VT323;">CHESS</h1>
	    <i class="fa-regular fa-chess-king fa-3x" style ="color : #000000;margin-right:40px"/>
		<i class="fa-solid fa-chess-king fa-3x" style ="color : #000000"/>
    	<p:selectOneRadio id="coloreGiocatore" >
            <f:selectItem  itemLabel="Bianco" itemValue="Bianco"  />
            <f:selectItem  itemLabel="Nero" itemValue="Nero"  />
    	</p:selectOneRadio>
    	<br/>
    	<p:commandButton 
    		styleClass="button-scacchi"
    		value="Conferma" 
    		update="modalDialog" 
    		oncomplete="PF('modalDialog').hide()" />     
	</center>
</div>
</p:dialog>


<p:dialog id="modalPausa" header="PAUSA" closable="false" widgetVar="modalPausa" modal="true" resizable="false">
<div class="container">
	<center>
		<h1 style="font-family:VT323;">GIOCO IN PAUSA</h1>
    	<p:commandButton styleClass="button-scacchi" value="Riprendi" update="modalPausa" oncomplete="PF('modalPausa').hide()" />     
	</center>
	</div>
</p:dialog>

<p:outputPanel rendered="#{scacchieraBean.gioca}" style="height:2500px">
	<div class="container1" >	
		<h1 style="font-family:VT323;font-size:80px;margin-top:50px;margin-bottom:10px" >CHESS</h1>
		<div class="container1-right">	
			<div class="container2" >	
				<h:panelGrid  id="scacchiera" styleClass="chessboard-container">
					<p:dataTable var="row" rowIndexVar="rowIndex"
						value="#{scacchieraBean.griglia}" styleClass="customTable">
						<p:columns var="cell" columnIndexVar="colIndex"
							value="#{scacchieraBean.griglia}"
							styleClass="#{(rowIndex + colIndex) % 2 == 0 ? 'chessboard-white-cell' : 'chessboard-black-cell'}"  >
							<p:column id="mossa" styleClass="chessboard-cell" columnIndexVar="colIndex">	
								<p:outputPanel redendered="#{null != scacchieraBean.griglia[rowIndex][colIndex].id}" value="#{scacchieraBean.griglia[rowIndex][colIndex].id}">	
									<ui:include src="iconComponent.xhtml">
										<ui:param name="iconComponent" value="#{scacchieraBean.griglia[rowIndex][colIndex]}" />		
									</ui:include>	
								</p:outputPanel>	
								<p:commandLink update="homeForm:scacchiera"  rendered="#{null != scacchieraBean.pezzo}" value="#{rowIndex} + #{colIndex}" action ="#{scacchieraBean.mossa(rowIndex,colIndex)}" style="color:blue;" >
								</p:commandLink>
							</p:column>
						</p:columns>
					</p:dataTable>			
				</h:panelGrid>
			</div>
			<div class="container1-right-mosse">
				<div class="container" style="width: 310px;height:510px;margin-top:16px;">
					<p style="font-family: VT323;font-size:50px">ELENCO MOSSE</p>
			 		<p:messages id="messaggioScacchi" showDetail="false" closable="true">
		     			<p:autoUpdate/>
		     		</p:messages>
		     	</div>
			</div>
		</div>
		<br /> 
		<div class="container-right-bottone">	
		<p:commandButton
			 	styleClass="button-scacchi"
				value="Reset Pedina"
				action="#{scacchieraBean.resetPezzo()}"
				update="scacchiera"
				/>
			<p:commandButton
				style="margin-left:20px;"
			 	styleClass="button-scacchi"
				value="Pausa"
				update="modalPausa"
				immediate="true" 
				oncomplete="PF('modalPausa').show()"/>	
				<p:commandButton
				style="margin-left:20px;"
			 	styleClass="button-scacchi"
				value="Ricomincia"/>		
			<p:commandButton
				style="margin-left:20px;"
				value="Torna al menu e termina la partita"
	   			action="#{scacchieraBean.switchGioca()}"
	   			update="homeForm"
	    		immediate="true" 
	    		styleClass="button-scacchi">
			</p:commandButton>
		</div>			
	</div>	

</p:outputPanel>

</ui:composition>



